/*= Menu - Reduce Padding ===========================================================*/
:root {
  --menu-padding: 0.35em; /* Win7, 8: 0px */
}
:root[uidensity="compact"] {
  --menu-padding: 0.25em;
}
:root[uidensity="touch"] {
  --menu-padding: 0.5em;
}
@supports -moz-bool-pref("userChrome+Content.padding.menu_compact") {
  :root {
    --menu-padding: 2px;
  }
  :root[uidensity="compact"] {
    --menu-padding: 0px;
  }
}
menupopup:not(.in-menulist) > menuitem,
menupopup > menu {
  padding-block: var(--menu-padding) !important; /* Original: 0.5em */
  padding-inline-start: var(--arrowpanel-menuitem-padding-inline) !important;
}
#ContentSelectDropdown > menupopup > menucaption,
#ContentSelectDropdown > menupopup > menuitem {
  padding-block: 0 !important;
}
@media (-moz-gtk-csd-available) {
  #ContentSelectDropdown > menupopup > menucaption,
  #ContentSelectDropdown > menupopup > menuitem {
    padding-block: var(--menu-padding) !important;
  }
  menupopup > menu {
    padding-inline-start: 0.5em;
  }
}
/*= Menus - Set Margin ==============================================================*/
:not(#ContentSelectDropdown) menupopup:not(.in-menulist) > menuitem,
:not(#ContentSelectDropdown) menupopup > menu,
.openintabs-menuitem,
#blockedPopupDontShowMessage,
#BMB_viewBookmarksToolbar,
#clearDownloadsButton /* Library */ {
  margin: var(--arrowpanel-menuitem-margin) !important;
}
/*= Sub Menu - Nested Margin ========================================================*/
menupopup {
  --nested-margin-side: -0.3em !important;
}
@media (min-width: 600px) {
  @supports not -moz-bool-pref("userChrome+Content.zavety") {
    @supports -moz-bool-pref("userChrome+Content.icons.change_toolbarbuttons_and_overflowbutton_position") {
      toolbarbutton#bookmarks-menu-button:nth-last-child(1) > #BMB_bookmarksPopup menupopup {
        --nested-margin-side: 27px !important; /* 27px = padding-text + icon + padding-inline-start */
      }
      toolbarbutton#bookmarks-menu-button:nth-last-child(2) > #BMB_bookmarksPopup menupopup {
        --nested-margin-side: calc(27px + (2 * (var(--toolbarbutton-inner-padding) + var(--toolbarbutton-outer-padding)) + 16px)) !important;
      }
      toolbarbutton#bookmarks-menu-button:nth-last-child(3) > #BMB_bookmarksPopup menupopup {
        --nested-margin-side: calc(27px + (4 * (var(--toolbarbutton-inner-padding) + var(--toolbarbutton-outer-padding)) + (2 * 16px))) !important;
      }
      toolbarbutton#bookmarks-menu-button:nth-last-child(4) > #BMB_bookmarksPopup menupopup {
        --nested-margin-side: calc(27px + (6 * (var(--toolbarbutton-inner-padding) + var(--toolbarbutton-outer-padding)) + (3 * 16px))) !important;
      }
      toolbarbutton#bookmarks-menu-button:nth-last-child(5) > #BMB_bookmarksPopup menupopup {
        --nested-margin-side: calc(27px + (8 * (var(--toolbarbutton-inner-padding) + var(--toolbarbutton-outer-padding)) + (4 * 16px))) !important;
      }
      @supports -moz-bool-pref("extensions.unifiedExtensions.enabled") {
        toolbar[nonemptyoverflow="true"] toolbarbutton#bookmarks-menu-button:nth-last-child(1) > #BMB_bookmarksPopup menupopup {
          --nested-margin-side: calc(27px + (2 * (var(--toolbarbutton-inner-padding) + var(--toolbarbutton-outer-padding)) + 16px)) !important;
        }
        toolbar[nonemptyoverflow="true"] toolbarbutton#bookmarks-menu-button:nth-last-child(2) > #BMB_bookmarksPopup menupopup {
          --nested-margin-side: calc(27px + (4 * (var(--toolbarbutton-inner-padding) + var(--toolbarbutton-outer-padding)) + (2 * 16px))) !important;
        }
        toolbar[nonemptyoverflow="true"] toolbarbutton#bookmarks-menu-button:nth-last-child(3) > #BMB_bookmarksPopup menupopup {
          --nested-margin-side: calc(27px + (6 * (var(--toolbarbutton-inner-padding) + var(--toolbarbutton-outer-padding)) + (3 * 16px))) !important;
        }
        toolbar[nonemptyoverflow="true"] toolbarbutton#bookmarks-menu-button:nth-last-child(4) > #BMB_bookmarksPopup menupopup {
          --nested-margin-side: calc(27px + (8 * (var(--toolbarbutton-inner-padding) + var(--toolbarbutton-outer-padding)) + (4 * 16px))) !important;
        }
        toolbar[nonemptyoverflow="true"] toolbarbutton#bookmarks-menu-button:nth-last-child(5) > #BMB_bookmarksPopup menupopup {
          --nested-margin-side: calc(27px + (10 * (var(--toolbarbutton-inner-padding) + var(--toolbarbutton-outer-padding)) + (5 * 16px))) !important;
        }
      }
    }
  }
}
menupopup > menu > menupopup {
  /* align submenus */
  margin-inline-start: var(--nested-margin-side) !important;
}
/*= Bookmark Menu - Reduce Padding ==================================================*/
:root {
  --bookmark-menu-padding: 3px;
}
:root[uidensity="compact"] {
  --bookmark-menu-padding: 1.5px;
}
@supports -moz-bool-pref("userChrome+Content.padding.menu_compact") {
  :root {
    --bookmark-menu-padding: 2px;
  }
  :root[uidensity="compact"] {
    --bookmark-menu-padding: 0px;
  }
}
:root:not([uidensity="touch"]) #BMB_bookmarksPopup .subviewbutton,
:root:not([uidensity="touch"]) #PlacesToolbar menupopup[placespopup] .bookmark-item,
:root:not([uidensity="touch"]) #PlacesToolbar menupopup[placespopup] .openintabs-menuitem {
  padding-block: var(--bookmark-menu-padding) !important;
}
@supports -moz-bool-pref("userChrome+Content.padding.menu_compact") or -moz-bool-pref("userChrome+Content.padding.bookmark_menu.compact") {
  :root:not([uidensity="touch"]) #BMB_bookmarksPopup .bookmark-item,
  :root:not([uidensity="touch"]) #PlacesToolbar menupopup[placespopup] .bookmark-item {
    min-height: unset !important; /* Original: 24px */
  }
}
/*= Global Menu - Set Padding =======================================================*/
/* Menubar item padding */
:root {
  --global-menubar-padding: 2px;
}
:root[uidensity="compact"] {
  --global-menubar-padding: 1px;
}
:root[uidensity="touch"] {
  --global-menubar-padding: 4px;
}
#main-menubar > menu {
  padding-block: var(--global-menubar-padding) !important;
}
/* Reduce items */
#main-menubar > menu > menupopup menuitem,
#main-menubar > menu > menupopup menu {
  padding-block: var(--bookmark-menu-padding) !important;
}
